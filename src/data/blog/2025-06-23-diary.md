---
pubDatetime: 2025-06-23T14:09:05.074Z
modDatetime: 2025-06-23T14:09:05.074Z
title: 2025年6月23日(月)の日記
featured: false
draft: false
tags:
  - diary
description:
  2025年6月23日の日記です。
---

## Table of contents

## はじめに

この記事は人間が書いています

## やったこと

- [聴覚障害者のためのキャリアサポートセンター](https://tsukutech-social.net/site/) にキャリア相談した
- セブンの新作のクロワッサンをたべた
    - やきたてでうまかった
- `ccusage` のシェル補完を生成した
    - **とりあえず** は解決できた
    - https://github.com/mimikun/ccusage/tree/add/shell-completion

## やりたいこと

- 任意のコマンドのソースを読んで、シェル補完を生成してくれるツールを作る

### 任意のコマンドのソースを読んで、補完を生成してくれるツール

いくつかの事例でこういうのが欲しいと再認識。

- `bitwarden-cli`
    - fish未サポート
- `ccusage`
    - 使用ライブラリが補完生成未サポート
- `nkf`
    - 特殊用途向けでシェル補完需要が少ない
- その他、PowerShell v5などマイナーなシェル対応

今はAIに静的解析を丸投げできるので、ソースがあるなら比較的やりやすくなったと思っている。

本当にそうかは検証する必要がある。

なのでとりあえず `ccusage` の `gunshi` でそれが可能か試す。

これを入力して、期待する結果になるかまず試す。

```md
# シェル補完生成機能を外部リポジトリに切り出す

ccusageはコマンドの解析にgunshiを使用しています。
gunshiはできたばかりでまだ新しいライブラリです。
たとえば、シェル補完生成の機能がまだ実装されていません。
これについてはgunshiの作者にリクエストを依頼することも考えられましたが

- CLI作成のライブラリなら既存ライブラリがいくつもあるのにわざわざ作成している
    - おそらくgunshiで実現したいことがあるので、リポジトリオーナーしかそれは実現できない

という理由により、ccusageのリポジトリから切り出して実装したいと考える。
そうしたら、将来gunshiがシェル補完生成機能を実装した場合でも、ccusageのリポジトリに影響を与えずに済む。

まずはこれが実現できるか知りたいです。
```

~~コンテキストクリアしてしまったので `claude --continue` ができない~~

